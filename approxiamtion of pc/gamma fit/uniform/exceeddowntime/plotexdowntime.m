% x = 0.1:0.01:1;
% i = 1;
% t(i) = 0.1;
% while (t(i)<=1)
%     y(i) = Downtimegammanexceed(100,t(i),1);
%     t(i+1) = t(i)+0.01;
%     i = i+1;
% end
% y(i) = Downtimegammanexceed(100,t(i),1);
% plot(t,y);
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.2,1);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.2,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.2,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.2,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.2,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.2,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.2,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.2,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.2,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.2,1.4).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.4,1);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.4,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.4,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.4,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.4,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.4,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.4,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.4,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.4,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.4,1.4).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.57,1);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.57,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.57,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.57,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.57,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.57,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.57,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.57,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(5,0.57,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(5,0.57,1.4).mat');
%run by 202


clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.2,1);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.2,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.2,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.2,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.2,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.2,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.2,1.3);
save 'G:\MATLAB\exceededdowntime\compareresult(50,0.2,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.2,1.4);
save G:\MATLAB\exceededdowntime\compareresult(50,0.2,1.4).mat;


clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.4,1);
save G:\MATLAB\exceededdowntime\compareresult(50,0.4,1).mat;
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.4,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.4,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.4,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.4,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.4,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.4,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.4,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.4,1.4).mat');
%run by 203

clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.57,1);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.57,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.57,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.57,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.57,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.57,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.57,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.57,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(50,0.57,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(50,0.57,1.4).mat');
%run by 205
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.2,1);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.2,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.2,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.2,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.2,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.2,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.2,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.2,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.2,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.2,1.4).mat');
%run by 204
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.4,1);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.4,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.4,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.4,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.4,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.4,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.4,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.4,1.3).mat');
clear all;
% run by 205
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.4,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.4,1.4).mat');

clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.57,1);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.57,1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.57,1.1);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.57,1.1).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.57,1.2);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.57,1.2).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.57,1.3);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.57,1.3).mat');
clear all;
[avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(100,0.57,1.4);
save('G:\MATLAB\exceededdowntime\compareresult(100,0.57,1.4).mat');
%run by 206
% clear all;
% clear all;
% for i = 1:1:3
%     if i==1
%         n = 5;
%     else
%         if i==2
%             n = 50;
%         else
%             n = 100;
%         end
%     end
%     display(n);
%     for j = 1:1:3
%         sigma = 0.2 * j;
%         display(sigma);
%         for k = 1:1:5
%             display(k);
%             ed_f = 1+(k-1)/10;
%             [avg_gap,upper,lower,avg_sim,avg_a,Gap,avg_s,Gupper,Glower] = resultscompare(n,sigma,ed_f);
%             save(['D:\MATLAB\approxiamtion of pc\gamma fit\uniform\gap values\compareresult(',num2str(n),num2str(sigma),num2str(ed_f),').mat']);
%             %save compareresult(n,sigma,1+(k-1)/10).mat;
%             clearvars -except i j k n sigma;           
%         end
%     end
% end
 u = (upper - avg_sim)./2.009 * 1.984 + avg_sim;
 l = (lower - avg_sim)./2.009 * 1.984 + avg_sim;
 gu = (Gupper - avg_gap)./2.009 * 1.984 + avg_gap;
 
 load('D:\MATLAB\approxiamtion of pc\gamma fit\uniform\gap values\s100\compareresult(5,0.2,1.2).mat')
upper = avg_sim + tinv(0.975,sample_2) * std(avg_s)/sqrt(sample_2); 
 lower = avg_sim - tinv(0.975,sample_2) * std(avg_s)/sqrt(sample_2);
 Gupper = avg_gap + tinv(0.975,sample_2) * std(Gap)/sqrt(sample_2);
 Glower = avg_gap - tinv(0.975,sample_2) * std(Gap)/sqrt(sample_2);




